db:
  name: redash
  user: redash
  pass: redash
  host: redash-db-postgresql

timezone: "Asia/Tokyo"

ingress:
  enabled: false
  # Used to create an Ingress record.
  hosts:
    - chart-example.local
  annotations:
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  tls:
    # Secrets must be manually created in the namespace.
    # - secretName: chart-example-tls
    #   hosts:
    #     - chart-example.local
common:
  configMap:
    redashLogLevel: "INFO"
    redashRedisUrl: "redis://redash-broker-redis:6379/0"

oauth:
  google:
    clientId: ""
    secret: ""
    appsDomain: ""

redashEmail:
  server: localhost
  port: 25
  useTLS: False
  useSSL: false
  username: ""
  password: ""
  defaultSender: ""
  host: ""

server:
  service:
    name: server
    type: LoadBalancer
    loadBalancerIP: ""
    externalPort: 80
    internalPort: 5000
  deployment:
    name: server
    image:
      repository: redash/redash
      tag: latest
      pullPolicy: IfNotPresent
    replicas: 1
    annotations:
    nodeSelector: {}
    resource: {}
  configMap:
    redashWebWorkers: "4"

worker:
  deployment:
    name: worker
    image:
      repository: redash/redash
      tag: latest
      pullPolicy: IfNotPresent
    replicas: 1
    annotations:
    nodeSelector: {}
    resource: {}
  configMap:
    queue: "queries,scheduled_queries,celery"
    workerCount: "2"

broker:
  enabled: true
  service:
    name: broker
    type: ClusterIP
    externalPort: 6379
    internalPort: 6379
  deployment:
    name: broker
    image:
      repository: redis
      tag: 3.0-alpine
      pullPolicy: IfNotPresent
    replicas: 1
    nodeSelector: {}
    resource: {}


flower:
  enabled: false
  service:
    name: flower
    type: LoadBalancer
    externalPort: 80
    internalPort: 5555
  deployment:
    name: flower
    image:
      repository: crgwbr/docker-celery-flower
      tag: latest
      pullPolicy: IfNotPresent
    replicas: 1
    nodeSelector: {}
    resource: {}
  configMap:
    celeryBrokerUrl: redis://redash-broker-redis:6379/0
